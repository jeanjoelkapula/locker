
{% extends "crm/layout.html" %}
{% load static %}

{% block stylesheet %}
    <link rel="stylesheet" href="{% static 'crm/assets/vendor/libs/datatables/datatables.css' %}">
{% endblock %}
{% block body %}

<div class="layout-content">
    <!-- Content -->
    <div class="container-fluid flex-grow-1 container-p-y">
        
        <div style="display: flex; margin-bottom: 20px;">
            <div>
                <h4 class="font-weight-bold mb-4">
                    <span class="text-muted font-weight-light">Products /</span> List
                </h4>
            </div>
            <div style="margin-left: auto;">
                <a href="{% url 'products_create' %}">
                    <button type="submit" class="btn btn-primary">New Product</button>
                </a>
            </div>
        </div>
        <div class="card">
            <h6 class="card-header">
              DataTable within card
            </h6>
            <div class="card-datatable table-responsive">
              <table class="datatables-demo table table-striped table-bordered">
                <thead>
                  <tr>
                    <th>Product Name</th>
                    <th>Price</th>
                    <th>Product Type</th>
                    <th>Unit</th>
                  </tr>
                </thead>
                <tbody>
                  {% for product in products %}
                    <tr class="odd gradeX">
                      <td>
                       
                        {{product.name}}
                      </td>
                      <td>
                        ${{product.price}}
                      </td>
                      <td>
                        {% if product.is_service %}
                         Service
                        {% else %}
                          Good
                        {% endif %}
                        
                      </td>
                      <td class="center"> 
                        {% if product.is_service %}
                         {{product.unit}}
                        {% else %}
                          Per item
                        {% endif %}
                        
                      </td>
                    </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
    </div>
</div>

{% endblock %}

{% block script %}
    <script src="{% static 'crm/assets/js/demo.js' %}"></script>
    <script src="{% static 'crm/assets/vendor/libs/datatables/datatables.js' %}"></script>
    <script src="{% static 'crm/assets/js/tables_datatables.js' %}"></script>
{% endblock %}